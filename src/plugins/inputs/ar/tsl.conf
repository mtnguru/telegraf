# Telegraf Configuration
[global_tags]

[agent]
  interval = "3000s"
  round_interval = true
  metric_batch_size = 10000
  metric_buffer_limit = 500000
  collection_jitter = "0s"
  flush_interval = "3000s"
  flush_jitter = "0s"
  precision = ""
  logtarget = "file"
  logfile = "/tmp/telegraf-sl.log"
# logfile_rotation_interval = "0d"
# logfile_rotation_max_size = "0MB"
# logfile_rotation_max_archives = 5
  hostname = ""
  omit_hostname = false

###############################################################################
#                            INPUT PLUGINS                                    #
###############################################################################

[[inputs.ar]]
 # Before loading data - change the following fields
    srcDir     = "/apps/data/analysis/20230830"
    date       = "20230830"
    reactor    = "R1"
    experiment = "GT12"
    instance   = "42"

  # These fields are for debugging
    maxLines   = 1000000
    maxFiles   = 300

  # These fields are static and should not require changing
    dataTypes  = ["analysis"]
    tz         = "EST"
    source     = "I"
    fileName   = "none"
    fileSuffix = "csv"
    moveFiles  = false

###############################################################################
#                            OUTPUT PLUGINS                                   #
###############################################################################

[[outputs.file]]
   files = ["/tmp/ar.data"]
   data_format = "influx"

[[outputs.influxdb]]
  urls = ["http://atlas5:8086"]
  database = "sl"
  username = "data"
  password = "datasl"

